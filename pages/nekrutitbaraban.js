import React, { useState } from 'react'
import dynamic from 'next/dynamic'
import ProblemPageLayout from '../components/ProblemPageLayout'
import ProblemSection from '../components/ProblemSection'
import { getSEOData } from '../utils/seoConfig'
import { getProblemPageStructuredData } from '../utils/structuredData'

const OrderModal = dynamic(() => import('../components/OrderModal'), {
  ssr: false,
  loading: () => null,
})

const Page = () => {
  const [isModalOpen, setIsModalOpen] = useState(false)
  const openModal = () => setIsModalOpen(true)
  const closeModal = () => setIsModalOpen(false)

  const seoData = getSEOData('/nekrutitbaraban')
  const baseUrl = 'https://sosamba3.vercel.app'
  const structuredData = getProblemPageStructuredData(
    'Ремонт стиральной машины которая не крутит барабан',
    'Профессиональный ремонт стиральных машин с неработающим барабаном в Одессе. Замена ремня, ремонт двигателя.',
    `${baseUrl}/nekrutitbaraban`
  )

  const seo = {
    title: seoData.title,
    description: seoData.description,
    keywords: seoData.keywords,
    canonical: `${baseUrl}/nekrutitbaraban`,
    structuredData,
  }

  const title = `<span class="page-text11">Стиральная машина не крутит барабан —</span><span class="page-text12"> </span><span class="page-text13">что делать?</span>`

  const anchors = {
    title: 'Стиральная машина не крутит барабан:',
    items: [
      { icon: '/external/vector8669-r6fr.svg', href: '#1', text: 'Что делать, если машина не крутит барабан' },
      { icon: '/vector.svg', href: '#2', text: 'Основные причины поломки:' },
      { icon: '/external/vector8669-r6fr.svg', href: '#2', text: '1. Дверца не закрыта или не заблокирована.' },
      { icon: '/external/vector8669-r6fr.svg', href: '#3', text: '2. Проблемы с приводным ремнём.' },
      { icon: '/external/vector8669-r6fr.svg', href: '#4', text: '3. Неисправность двигателя или щёток.' },
      { icon: '/external/vector8669-r6fr.svg', href: '#5', text: '4. Сбои в электронном блоке управления' },
    ],
  }

  const navigation = {
    prevPage: { href: '/neotkrivaetsadverca', title: 'У стиральной машины не открывается дверца' },
    nextPage: { href: '/neslivaetvodu', title: 'Стиральная машина не сливает воду' },
  }

  const sections = [
    {
      id: '1',
      title: 'Что делать, если машина не крутит барабан:',
      image: null,
      imageAlt: '',
      imageCaption: '',
      content:
        `<p><strong>1. Обесточьте машину и слейте воду.</strong><br/>Выключите стиральную машину и отключите её от сети. Слейте воду из барабана с помощью аварийного шланга или через фильтр (если таковой имеется). Это необходимо сделать перед любыми проверками, чтобы вода не помешала осмотру и не повредила пол под машиной.</p>
         <p><strong>2. Перераспределите или уберите часть белья.</strong><br/>Откройте дверцу и выньте часть белья. При необходимости уменьшите загрузку, если она была слишком большой. Если белья совсем мало, добавьте ещё 2–3 вещи равного веса. Встряхните оставшиеся вещи, равномерно распределив их по барабану.</p>
         <p><strong>3. Проверьте барабан вручную.</strong><br/>Попробуйте покрутить барабан рукой (после слива воды барабан должен свободно вращаться). Если при вращении чувствуются заедания или слышится посторонний шум, возможно, внутри что-то застряло или заклинило. В этом случае снова осмотрите барабан и бак, удалите посторонние предметы.</p>
         <p><strong>4. Закройте дверцу.</strong><br/>Убедитесь, что дверца люка закрыта плотно. Откройте и закройте её до характерного щелчка. Без плотной фиксации дверца остаётся разблокированной – машина не начнёт цикл стирки.</p>
         <p><strong>5. Запустите тестовый цикл без белья.</strong><br/>Включите любой короткий цикл (например, «хлопок») на обычной мощности без загрузки белья. Проследите, начнётся ли вращение барабана на этапе отжима. Если барабан по-прежнему не вращается, это укажет на неисправность механизма.</p>`
    },
    {
      id: '2',
      title: '1. Дверца не закрыта или не заблокирована.',
      image: '/6/image%203823050-800h.webp',
      imageAlt: 'дверца стиральной машины',
      imageCaption: 'Проверка дверцы люка',
      content:
        `<p>Если люк не закрыт «до щелчка» или что-то мешает защёлке — например, ткань прилипла к уплотнителю — машина распознает это как неисправность и не запустит программу; отсутствие характерного щелчка или свободно болтающаяся дверца могут указывать на механическую поломку замка. В таких случаях нужно убедиться, что люк закрыт плотно и ничего не зажато; при признаках повреждения замка или его ненадёжной фиксации замена узла в сервисе решит проблему, поскольку продолжать работу с неисправной защёлкой опасно и неэффективно.</p>`
    },
    {
      id: '3',
      title: '2. Проблемы с приводным ремнём.',
      image: '/10/image%2038230551-800h.webp',
      imageAlt: 'приводной ремень',
      imageCaption: 'Приводной ремень',
      content:
        `<p>Если двигатель работает, слышен гул, но барабан не вращается или вращается вяло, вероятно, слетел или порван приводной ремень; при этом машина может выполнять другие этапы цикла (налив, нагрев), но не передавать вращение на барабан. В таких ситуациях при доступе к задней панели можно визуально осмотреть ремень: если он перекинулся, его аккуратно возвращают на шкив, а при явных повреждениях ремень меняют — при отсутствии уверенности в своих навыках лучше доверить замену мастеру, чтобы избежать неверной установки или дополнительного повреждения.</p>`
    },
    {
      id: '4',
      title: '3. Неисправность двигателя или щёток.',
      image: '/5/image%203823055-900w.webp',
      imageAlt: 'щётки двигателя',
      imageCaption: 'Щетки двигателя',
      content:
        `<p>В коллекторных двигателях со временем изнашиваются угольные щётки, и при плохом контакте мотор теряет мощность или вообще не запускается; иногда слышен только гул мотора без движения барабана, а при серьёзном повреждении обмоток возможен и полный отказ. При подозрении на износ щёток или внутренние проблемы мотора самостоятельный ремонт не рекомендуется — точную диагностику и замену выполняет мастер, который проверит состояние щёток, обмоток и подшипников и при необходимости выполнит квалифицированную замену.</p>`
    },
    {
      id: '5',
      title: '4. Сбои в электронном блоке управления',
      image: '/image%203823045-900w.webp',
      imageAlt: 'блок управления',
      imageCaption: 'Блок управления',
      content:
        `<p>Отказ платы управления, неисправность таходатчика или других сенсоров может приводить к тому, что контроллер не получает корректных данных о положении и оборотах барабана и блокирует отжим; проявления варьируются от мигающих ошибок на дисплее до полной неработоспособности на отдельных этапах. В таких случаях перезагрузка — кратковременное отключение питания — иногда устраняет временные сбои, но при повторяющихся ошибках требуется профессиональная диагностика и ремонт электроники, так как самостоятельные вмешательства в плату без опыта чреваты усугублением неисправности.</p>`
    },
  ]

  const first = sections.find(s => s.id === '1')
  const rest = sections.filter(s => s.id !== '1')

  return (
    <>
      <ProblemPageLayout
        seo={seo}
        title={title}
        anchors={anchors}
        navigation={navigation}
        onOrderClick={openModal}
      >
        {first && <ProblemSection key={first.id} {...first} />}
        <div className="page-container15"><h2 className="page-text34"><span>Основные причины поломки:</span></h2></div>
        {rest.map((s) => (
          <ProblemSection key={s.id} {...s} />
        ))}
      </ProblemPageLayout>

      <OrderModal isOpen={isModalOpen} onClose={closeModal} />
    </>
  )
}

export default Page
