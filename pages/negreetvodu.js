import React, { useState } from 'react'
import dynamic from 'next/dynamic'
import ProblemPageLayout from '../components/ProblemPageLayout'
import ProblemSection from '../components/ProblemSection'
import { getSEOData } from '../utils/seoConfig'
import { getProblemPageStructuredData } from '../utils/structuredData'

const OrderModal = dynamic(() => import('../components/OrderModal'), {
  ssr: false,
  loading: () => null,
})

const Page = () => {
  const [isModalOpen, setIsModalOpen] = useState(false)
  const openModal = () => setIsModalOpen(true)
  const closeModal = () => setIsModalOpen(false)

  const seoData = getSEOData('/negreetvodu')
  const baseUrl = 'https://sosamba3.vercel.app'
  const structuredData = getProblemPageStructuredData(
    'Ремонт стиральной машины которая не греет воду',
    'Профессиональный ремонт стиральных машин которые не нагревают воду в Одессе. Замена ТЭНа, ремонт термостата.',
    `${baseUrl}/negreetvodu`
  )

  const seo = {
    title: seoData.title,
    description: seoData.description,
    keywords: seoData.keywords,
    canonical: `${baseUrl}/negreetvodu`,
    structuredData,
  }

  const title = `<span class="page-text11">Стиральная машина не греет воду —</span><span class="page-text12"> </span><span class="page-text13">что делать?</span>`

  const anchors = {
    title: 'Стиральная машина не греет воду:',
    items: [
      { icon: '/vector.svg', href: '#2', text: 'Основные причины поломки:' },
      { icon: '/external/vector8669-r6fr.svg', href: '#2', text: '1. Поломка ТЭНА.' },
      { icon: '/external/vector8669-r6fr.svg', href: '#2-1', text: '2. Сломан датчик температуры (термостат)' },
      { icon: '/external/vector8669-r6fr.svg', href: '#2-2', text: '3. Неисправен датчик уровня воды (прессостат)' },
      { icon: '/external/vector8669-r6fr.svg', href: '#3', text: '4. Повреждена электропроводка' },
      { icon: '/external/vector8669-r6fr.svg', href: '#4', text: '5. Сбой или поломка модуля управления' },
      { icon: '/external/vector8669-r6fr.svg', href: '#5', text: '6. Неверно выбран режим стирки' },
    ],
  }

  const navigation = {
    prevPage: { href: '/neslivaetvodu', title: 'Стиральная машина не наливает воду' },
    nextPage: { href: '/protekaet', title: 'Стиральная машина протекает' },
  }

  const sections = [
    {
      id: '2',
      title: '1. Поломка ТЭНА.',
      image: '/2/ten.webp',
      imageAlt: 'тэн стиральной машины',
      imageCaption: 'Нагревательный элемент (ТЭН)',
      content:
        `<p>Чаще всего причина кроется в самом нагревательном элементе (ТЭНе). Накипь или остатки моющего средства, оседающие на ТЭНе, уменьшают его теплоотдачу и со временем приводят к перегоранию. Чтобы проверить ТЭН, используют мультиметр: у исправного сопротивление между выводами составляет около 20–40 Ом. Если измерение показывает обрыв или короткое замыкание, ТЭН однозначно нужно менять. Если же просто накопилась накипь, элемент вынимают и очищают механически (щёткой или абразивом) и раствором лимонной кислоты. После чистки проверяют нагрев повторно. При выявлении дефектов ТЭН заменяют новым, а при лёгких отложениях – очищают от налёта.</p>`
    },
    {
      id: '2-1',
      title: '2. Сломан датчик температуры (термостат)',
      image: '/2/termo.webp',
      imageAlt: 'термостат',
      imageCaption: 'Датчик температуры',
      content:
        `<p>Датчик температуры (термостат) следит за нагревом воды и при перегреве отключает ТЭН. Если термостат выходит из строя, питание на ТЭН не поступает, и вода остаётся холодной. Симптомы неисправности могут проявляться по-разному: внешние панели машины перегреваются, цикл стирки длится аномально долго или машина выдаёт ошибку по перегреву. Выяснить поломку помогает прозвонка: мультиметром проверяют сопротивление термостата в «холодном» состоянии (оно должно быть конечным, а при нагреве – расти). Если оказывается, что датчик не замыкает цепь при нагреве, его меняют на аналогичный.Исправный термостат просто заменяют – обычно это несложная операция, и после замены машина вновь начнёт греть воду нормальным образом.</p>`
    },
    {
      id: '2-2',
      title: '3. Неисправен датчик уровня воды (прессостат)',
      image: '/2/presso.webp',
      imageAlt: 'прессостат',
      imageCaption: 'Датчик уровня воды',
      content:
        `<p>Прессостат (датчик уровня воды) сообщает модулю управления о наполнении бака, и по сигналам датчика регулируется подача воды. Если прессостат забит или сломан, машина может не начать нагревать воду – она не «увидит» необходимый уровень, чтобы включить ТЭН. Для проверки открывают переднюю панель и визуально осматривают трубку к прессостату (обычно видно под панелью или около насоса) на засоры и перетяжки. Кроме того, прозванивают контакты датчика тестером. В большинстве случаев чистят внутреннюю трубку от грязи и мелкого мусора (например, нитей или монет). Если же датчик повреждён (нет реакции или неправильные показания), его заменяют новым</p>`
    },
    {
      id: '3',
      title: '4. Повреждена электропроводка',
      image: null,
      imageAlt: '',
      imageCaption: '',
      content:
        `<p>Часто бывает, что клеммы или провода, идущие к ТЭНу и датчикам, ослабевают или окисляются. Например, плохой контакт на клеммах ТЭНа приводит к тому, что элемент вообще не включается (или греется местно – проверяйте по почерневшей изоляции и оплавленным клеммам). Для диагностики отключают машину от сети и мультиметром прозванивают всю цепь питания ТЭНа и датчиков (исправный сигнал «должен быть», обрыв или короткое явно укажут на проблему). Визуально проверяют целостность проводов и коннекторов. При обнаружении плохого контакта или обрыва проводов провода меняют, а клеммы зачищают и плотно затягивают. После этого вновь проверяют нагрев – если проводка и вилка исправны, ТЭН снова начнёт греться.</p>`
    },
    {
      id: '4',
      title: '5. Сбой или поломка модуля управления',
      image: '/1/plata.webp',
      imageAlt: 'модуль управления',
      imageCaption: 'Модуль управления',
      content:
        `<p>Электронный блок управления (ЭБУ) — это «мозг» машины. Если в нём выходят из строя силовые реле, повреждается плата или программируется ошибка, то команда на нагрев может просто не подаваться. Распознать такую неисправность самостоятельно сложно: чаще всего на дисплее появляется соответствующий код, либо машина не реагирует на любые настройки. Проверку и ремонт модуля обычно доверяют специалисту, однако ясно одно: при любой проблеме с платой подачу напряжения на ТЭН прекращают, и новая плата или ремонт старой полностью решают проблему. Самостоятельно можно только убедиться, что напряжение в розетке подаётся и модули питания целы; для сложного ремонта платы лучше пригласить мастера.</p>`
    },
    {
      id: '5',
      title: '6. Неверно выбран режим стирки',
      image: null,
      imageAlt: '',
      imageCaption: '',
      content:
        `<p>Иногда причиной «холодной» стирки оказывается банальная ошибка в настройках. Если выставлен режим быстрой или энергосберегающей стирки без подогрева (или выбран минимальный температурный режим), машина просто не включит ТЭН. Например, регулятор температуры на панели должен соответствовать выбранной программе. Чтобы проверить, достаточно заново установить режим с высоким подогревом (40–60 °C). После корректировки настроек проблема исчезнет – функция нагрева будет работать как положено. Такой простой совет иногда спасает до обращения в сервис.</p>`
    },
  ]

  return (
    <>
      <ProblemPageLayout
        seo={seo}
        title={title}
        anchors={anchors}
        navigation={navigation}
        onOrderClick={openModal}
      >
        <div className="page-container15">
          <h2 className="page-text34"><span>Основные причины поломки:</span></h2>
        </div>
        {sections.map((s) => (
          <ProblemSection key={s.id} {...s} />
        ))}
      </ProblemPageLayout>

      <OrderModal isOpen={isModalOpen} onClose={closeModal} />
    </>
  )
}

export default Page
