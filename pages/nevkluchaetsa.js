import React, { useState } from 'react'
import dynamic from 'next/dynamic'
import ProblemPageLayout from '../components/ProblemPageLayout'
import ProblemSection from '../components/ProblemSection'
import { getSEOData } from '../utils/seoConfig'
import { getProblemPageStructuredData } from '../utils/structuredData'

// Динамический импорт модального окна
const OrderModal = dynamic(() => import('../components/OrderModal'), { 
  ssr: false,
  loading: () => null
})

const Page = (props) => {
  const [isModalOpen, setIsModalOpen] = useState(false)

  const openModal = () => setIsModalOpen(true)
  const closeModal = () => setIsModalOpen(false)
  
  const seoData = getSEOData('/nevkluchaetsa')
  const baseUrl = 'https://sosamba3.vercel.app'
  const structuredData = getProblemPageStructuredData(
    'Ремонт стиральной машины которая не включается',
    'Профессиональный ремонт стиральных машин которые не включаются в Одессе. Диагностика блока питания, ремонт управления.',
    `${baseUrl}/nevkluchaetsa`
  )

  const seo = {
    title: seoData.title,
    description: seoData.description,
    keywords: seoData.keywords,
    canonical: `${baseUrl}/nevkluchaetsa`,
    structuredData: structuredData
  }

  const title = `<span class="page-text11">Стиральная машина не включается: —</span><span class="page-text12"> </span><span class="page-text13">что делать?</span>`

  const anchors = {
    title: "Стиральная машина не включается:",
    items: [
      { icon: '/external/vector8669-r6fr.svg', href: '#1', text: '1. Что делать, если машина не включается?' },
      { icon: '/vector.svg', href: '#2', text: 'Основные причины поломки:' },
      { icon: '/external/vector8669-r6fr.svg', href: '#2', text: '1. Нет питания' },
      { icon: '/external/vector8669-r6fr.svg', href: '#3', text: '2. Перегорел сетевой фильтр' },
      { icon: '/external/vector8669-r6fr.svg', href: '#4', text: '3. Вышел из строя центральный модуль управления' },
      { icon: '/external/vector8669-r6fr.svg', href: '#5', text: '4. Износились щётки двигателя' },
      { icon: '/external/vector8669-r6fr.svg', href: '#5-1', text: '5. Неисправность замка люка (УБЛ)' },
      { icon: '/external/vector8669-r6fr.svg', href: '#5-2', text: '6. Неисправен впускной клапан или нет подачи воды' },
    ]
  }

  const navigation = {
    prevPage: {
      href: '/silnoshumit',
      title: 'Стиральная машина шумит при отжиме'
    },
    nextPage: {
      href: '/zavisaetnaprogramme',
      title: 'Стиральная машина зависает на программе'
    }
  }

  const problemSections = [
    {
      id: "2",
      title: "1. Отсутствие питания",
      image: "/5/shitovaya.webp",
      imageAlt: "электро-щитовая",
      imageCaption: "Электрическая щитовая",
      content: `Иногда причина банальна — машинка не получает электричество. Сначала проверьте автомат в щитке и предохранитель. Убедитесь, что шнур целый, а розетка рабочая. Для проверки можно включить в неё, например, фен или зарядку. Если другие приборы тоже не работают, значит, проблема не в самой машинке, а в электросети. В простых случаях достаточно поднять автомат или заменить предохранитель. Если же электричество есть, а техника «молчит», стоит искать дальше.`
    },
    {
      id: "3",
      title: "2. Перегорел сетевой фильтр",
      image: "/5/filtrsetevoy.webp",
      imageAlt: "сетевой фильтр",
      imageCaption: "Сетевой фильтр",
      content: `В большинстве современных машин стоит сетевой фильтр, который защищает электронику от скачков напряжения. Когда он выходит из строя, машинка перестаёт реагировать на включение. Симптомы — шнур и розетка исправны, но техника полностью «мертва». Проверить фильтр можно мультиметром (или доверить мастеру). Иногда на корпусе фильтра видны следы подгорания. Если элемент неисправен, его просто меняют на новый.`
    },
    {
      id: "4",
      title: "3. Вышел из строя центральный модуль управления",
      image: "/1/plata.webp",
      imageAlt: "Модуль управления",
      imageCaption: "Модуль управления",
      content: `Мозг стиральной машины — это управляющая плата. Именно она хранит программы стирки и управляет всеми процессами. Если она выходит из строя, техника не запускается, индикаторы не горят или ведут себя странно. Иногда помогает простой сброс: отключите питание на 10–20 минут и попробуйте снова. Если не помогло — скорее всего, нужна прошивка, ремонт или замена модуля. Этим обычно занимается специалист.`
    },
    {
      id: "5",
      title: "4. Износились щётки двигателя",
      image: "/5/shetki.webp",
      imageAlt: "Щетки двигателя",
      imageCaption: "Щетки двигателя",
      content: `Двигатель стиралки питается от электрических щёток на коллекторе ротора. При сильном износе щёток двигатель либо не запускается совсем, либо работает с перебоями. Яркий признак неисправности щёток — барабан перестаёт вращаться: машина включена, напор воды есть, но барабан «не крутит». Ещё один симптом — искры или необычные «скрежещущие» звуки при попытке запустить стирку. Обычно это происходит из-за плохого контакта щёток с ротором (они коротко замкнуты или стёрлись). На дисплее в таких случаях могут появляться сервисные коды (хотя обычно исчезают, когда машина остывает). Проверьте щётки двигателя: в большинстве моделей это доступно после снятия задней крышки и корпуса мотора. Если щетки сильно короткие или имеют сколы, их нужно заменить. Это относительно простая и недорогая операция — её выполняет мастер или даже домашний умелец. Пока щетки не заменены, стиралка не запустится (особенно при больших нагрузках).`
    },
    {
      id: "5-1",
      title: "5. Неисправность замка люка (УБЛ)",
      image: "/5/ubl.webp",
      imageAlt: "убл",
      imageCaption: "УБЛ",
      content: `Практически все стиралки блокируют дверцу перед стартом (из соображений безопасности). Если замок (устройство Блокировки Люка, УБЛ) сломан или просто не фиксирует дверцу, машина не даст себя включить. Проявляется это тем, что при попытке старта ничего не происходит — машинка не отвечает на нажатия. На некоторых моделях на экране появляется код ошибки, связанный с дверцей: например, LG выдаёт «dE», Samsung — «DC». Часто бывает и просто «виснет»: люк не захлопнут до конца. Попробуйте открыть и затем сильно закрыть дверцу до щелчка – иногда достаточно убедиться, что она плотно заперта. Если же замок действительно сломан, его придётся заменить. Устройство состоит из микровыключателя и заслонки — ремонт нецелесообразен, заменять нужно весь узел. До замены машина работать не будет (ее «кидает»: ни вода не набирается, ни барабан не крутится).`
    },
    {
      id: "5-2",
      title: "6. Неисправен впускной клапан или нет подачи воды",
      image: "/5/klapan.webp",
      imageAlt: "впускной клапан",
      imageCaption: "Впускной клапан",
      content: `Если индикаторы на панели загораются, но после включения программа не стартует, обратите внимание на подачу воды. Во время цикла машинка должна заблокировать люк и тут же начать залив воды. Если воды нет (или не подаётся), стирка не начнётся. Сначала проверьте, открыт ли кран водоснабжения для машины и не пережат ли заливной шланг. Без наличия воды стиралка просто не запустится. Если с подачей воды всё в порядке, возможен отказ впускного (заливного) клапана. Это электромагнит, открывающий подачу воды при команде блока управления. Признаки: машинка блокирует люк, пытается набрать воду (можно услышать гудение), но бак остаётся пустым. На дисплее может мигать ошибка «нет воды» (например, код H2O у Indesit или F02 у Bosch). Иногда заливается вода только на некоторые программы (например, полоскание) — это из-за того, что современные стиралки используют двойной клапан и может выходить из строя только один из его патрубков. Что делать: убедитесь, что кран открыт и шланг не изогнут. Если вода есть, но машинка всё равно не набирает, скорее всего, впускной клапан неисправен или забит мусором. Нередко в корпусе клапана устанавливается мелкая сеточка-фильтр — её можно очистить. Если проверка не помогла, потребуется замените клапан на новый. Это уже задача мастера: самостоятельно без опыта лучше не рисковать.`
    }
  ]

  return (
    <>
      <ProblemPageLayout
        seo={seo}
        title={title}
        anchors={anchors}
        navigation={navigation}
        onOrderClick={openModal}
      >
        <section id="1" className="page-firstproblem">
          <div className="page-container12 zagolovkiskorobkoy">
            <h2 className="zagolovki2">
              Что делать, если машина не включается:
            </h2>
            <svg
              width="330"
              xmlns="http://www.w3.org/2000/svg"
              height="20"
              viewBox="0 0 330 20"
              preserveAspectRatio="none"
              className="page-icon26"
            >
              <path
                d="M0 10 H330"
                fill="none"
                stroke="#000000"
                strokeWidth="0.5"
                vectorEffect="non-scaling-stroke"
                strokeDasharray="11 11"
              />
            </svg>
          </div>
          <div className="page-container13">
            <figure className="page-container14">
              <img
                alt="стиральная машина"
                src="/100x100/image%203823140-900w.webp"
                loading="eager"
                className="page-image38230521"
              />
              <span className="page-text19">
                <span>Машина не включается</span>
              </span>
            </figure>
            <div className="vicetext">
              <p>
                <strong>1. Отключите машинку от сети</strong><br />
                Прежде чем разбирать что-либо, обязательно вытащите вилку из розетки и перекройте водоподачу. Это защитит вас от удара током и подтопления.
              </p>

              <p>
                <strong>2. Проверьте электрическую цепь.</strong><br />
                Убедитесь, что автомат в электрощите включён, а провод питания и розетка не повреждены. Подключите к той же розетке другой прибор, чтобы убедиться, что питание есть.
              </p>

              <p>
                <strong>3. Осмотрите дверцу.</strong><br />
                Откройте люк и закройте его заново до характерного щелчка. Иногда простое неплотное закрытие блокирует пуск. Проверьте, не мешают ли защёлке посторонние предметы или грязь.
              </p>

              <p>
                <strong>4. Проверьте подачу воды.</strong><br />
                Откройте кран подачи воды для стиральной машины и осмотрите заливной шланг: нет ли перегиба или засора на входе. Сломанный или перекрученный шланг и закрытый кран тоже остановят работу.
              </p>

              <p>
                <strong>5. Перезапустите оборудование.</strong><br />
                Отключите машину от сети на несколько минут (примерно на 10–15), затем включите снова. Иногда однократный «глюк» электроники устраняется сбросом питания.
              </p>

              <p>
                <strong>6. Проверьте фильтры и шланги.</strong><br />
                Если машинка всё ещё не подаёт признаков жизни, осмотрите сетевой фильтр и впускной клапан. Для фильтра нужен мультиметр, для клапана — визуальный осмотр или звон мастеру. Часто эти детали меняют полностью.
              </p>
            </div>
          </div>
        </section>

        <div className="page-container15">
          <h2 className="page-text34">
            <span>Основные причины неисправности:</span>
          </h2>
        </div>

        {problemSections.map((section) => (
          <ProblemSection key={section.id} {...section} />
        ))}
      </ProblemPageLayout>
      
      <OrderModal isOpen={isModalOpen} onClose={closeModal} />
    </>
  )
}

export default Page
